@inherits OpenActiveEndedMoreDetailsDialogBase

<MudDialog>
    <DialogContent>
        <MudSimpleTable Class="mt-4" Hover="true" Dense="true" FixedHeader="true">
            <thead>
                <tr>
                    <th style="width: 40%">Product</th>
                    <th class="text-center" style="width: 30%">From</th>
                    <th class="text-center" style="width: 15%">Quantity</th>
                    <th class="text-center" style="width: 15%">Price</th>
                </tr>
            </thead>
            <tbody>
                @for (int i = 0; i < Order.CartItems.Count; i++)
                {
                    int locale = i;
                    <tr style="@(Order.CartItems[i].Product.User.Id == User.Id ? "background-color: lightgreen" : "")">
                        <td>@Order.CartItems[i].Product.Title</td>
                        <td class="text-center">@Order.CartItems[i].Product.User.FirstName @Order.CartItems[i].Product.User.LastName</td>
                        <td class="text-center">@Order.CartItems[i].Quantity</td>
                        <td class="text-center">@Order.CartItems[i].Price$</td>
                    </tr>
                }
            </tbody>
        </MudSimpleTable>

        <div class="row m-0">
            <div class="col-6">
                <p class="mt-5"><span style="font-weight: 500; font-size: 18px;">Buyer: </span>@Order.Buyer.FirstName @Order.Buyer.LastName</p>
                <p class="mt-5"><span style="font-weight: 500; font-size: 18px;">Ordered from: </span>@Order.FromDate.ToString("dd/MM/yyyy")</p>
                <p class="mt-5"><span style="font-weight: 500; font-size: 18px;">Ordered for: </span>@Order.ToDate.ToString("dd/MM/yyyy")</p>
            </div>
            <div class="col-6">
                <p class="mt-5"><span style="font-weight: 500; font-size: 18px;">Place: </span>@Order.Buyer.Place.Name</p>
                <p class="mt-5"><span style="font-weight: 500; font-size: 18px;">Postal code: </span>@Order.Buyer.Place.PostalCode</p>
                <p class="mt-5"><span style="font-weight: 500; font-size: 18px;">Address: </span>@Order.Buyer.Address</p>
            </div>
        </div>
        
        <div class="row m-0">
            <div class="col-12">
                <p class="mt-5"><span style="font-weight: 500; font-size: 18px;">Description: </span>@Order.Description</p>
                <p class="mt-5"><span style="font-weight: 500; font-size: 18px;">Price: </span>@MyPrice$</p>
            </div>
        </div>
        

    </DialogContent>
    <DialogActions>
        <MudButton Variant="Variant.Filled" Color="Color.Secondary" OnClick="Cancel">Close</MudButton>
        @if (!Ordered)
        {
            <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="Submit">Set as ordered</MudButton>
        }
    </DialogActions>
</MudDialog>
